<!DOCTYPE html>
<html lang="en">
<head>
	<title>Code 4 Good</title>
	<!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!--BootStrap Css-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

<script src="//www.parsecdn.com/js/parse-1.6.14.min.js"></script>

</head>

<style>
/*Defines the landing pages background color */
/*dog*/
html {
			background: url(http://cdn.paper4pc.com/images/blurred-wallpaper-10.jpg) no-repeat center center fixed; 
			-webkit-background-size: cover;
			-moz-background-size: cover;
			-o-background-size: cover;
			background-size: cover;
		}
		body {
			padding-top: 20px;
			font-size: 16px;
			font-family: "Open Sans",serif;
			background: transparent;
		}

		h1 {
			font-family: "Abel", Arial, sans-serif;
			font-weight: 400;
			font-size: 40px;
		}

		/* Override B3 .panel adding a subtly transparent background */
		.panel {
			background-color: rgba(255, 255, 255, 0.9);
		}

		.margin-base-vertical {
			margin: 40px 0;
		}

</style>

<body>

<center><h1>No Limits!</h1></center>
<!--Begins styling for the webpage!-->
<div class="container">    
        <div id="loginbox" style="margin-top:50px;" class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">                    
            <div >
                    <div class="panel-heading">
                        <h2 class="panel-title">Sign In</h2>
                    </div>     

                    <div style="padding-top:30px" class="panel-body" >

                        <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
                            
                        <form id="loginform" class="form-horizontal" role="form"><!--Styling for the Username/Password!-->
                                    
                            <div style="margin-bottom: 25px" class="input-group"><!--Styling for the Username!-->
                              <span class="input-group-addon">Username</span>

                              <input id="login-username" type="text" class="form-control" name="username" value="" placeholder="enter email">                                        
                            </div>
                                
                            <div style="margin-bottom: 25px" class="input-group"><!--Styling for the Username!-->
                              <span class="input-group-addon">Password</span>
                              <input id="login-password" type="password" class="form-control" name="password" placeholder="password">
                                        
                            </div>
                                    
                            <div style="float:right; position: relative;"><a href="#">Forgot password?</a></div>

                                
                            <div class="input-group">
                              <div class="checkbox">
                                <label>
                                  <input id="login-remember" type="checkbox" name="remember" value="1"> Remember me<!--Styling for the Remember-->
                                </label>
                              </div>
                            </div>

  
                                <div style="margin-top:10px" class="form-group"><!--Styling for the Login and SignUp Button!-->
                                    <!-- Button -->

                                    <div class="col-sm-12 controls">
                                      <!-- onClick="$('#loginbox').hide(); $('#signupbox').show()" -->
                                      <a id="btn-login" href="mainfeed.html" class="btn btn-success">Login  </a><!--Styling for the Login!-->
                                      <!-- <a id="btn-fblogin" href="#" class="btn btn-primary">Login with Facebook</a> -->
                                      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Sign-Up</button><!--Styling for the Sign-up!-->

                                    </div>
                                </div>


                                <div style="margin-top:10px" class="form-group"><!--This is the modal that brings up the register form!-->
                                <div class="col-sm-12 controls">
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
<!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Put in your information</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
  <label for="usr">Name:</label>
  <input type="text" class="form-control" id="usrname">
</div>
<div class="form-group">
  <label for="email">Email:</label>
  <input type="mail" class="form-control" id="usremail">
</div> 
<div class="form-group">
  <label for="pwd">Password:</label>
  <input type="password" class="form-control" id="usrpwd">
</div>        
</div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-default" data-dismiss= "modal" onclick="registerNewPerson()">Register</button>
        </div>
      </div>
      
    </div>
  </div>
</div>
</div>
<!--End styling for modal form!-->
                            </form>     


                           

                        </div>                     
                    </div>  
        </div>
    </div>


    <!-- jQuery first, then Bootstrap JS. -->
    <!--Javascript that handles the users names information and adds it to database-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>

<script type="text/javascript">
Parse.initialize("tzlgN4Z1aZh65b5t0EXJ6WbWAZY2iZ2V5UzC3Exy", "CSB7qB9VeyvjiPwH1TZxtgOLXzIW8Asj6YkQO7VU");
</script>
<script type="text/javascript">
  function registerNewPerson() {
    var currentUser = Parse.User.current();
                if (currentUser) {
                    // do stuff with the user
                    Parse.User.logOut();
                } 
    event.preventDefault();
/*   var usersObject = Parse.Object.extend("Users"); // creates Registered
    var user = new usersObject();
*/
  var user = new Parse.User();

    var newName = $('#usrname').val();
    var newEmail = $('#usremail').val();
    var newPass = $('#usrpwd').val();
    console.log(newName);
/*
    user.save({Name: newName, Email: newEmail, Pass: newPass}).then(function(object) {
        alert("Welcome! Thank you for registering!");
    });
 */
// var user = new Parse.User();
user.set("username", newName);
user.set("password", newPass);
user.set("email", newEmail);
user.signUp(null, {
  success: function(user) {
    // Hooray! Let them use the app now.
    alert("Thank you for registering! Please use your new credentials to log in.");
  },
  error: function(user, error) {
    // Show the error message somewhere and let the user try again.
    alert("Error: " + error.code + " " + error.message);
  }
});

  }

    $("#loginform").submit(function(event) {
      event.preventDefault();

      var name = $("#login-username").val();
      var pass = $("#login-password").val();

       Parse.User.logIn(name, pass, {success: function() {
          console.log("Log in Success!");
       }, error: function() {
          console.log("Log in Error: "+error.message);
       }
     });

  });
 
</script>
</body>
</html>